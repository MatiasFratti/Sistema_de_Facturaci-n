@model Sistema_de_Facturacion.Models.Usuarios

@{
    ViewBag.Title = "Detalles";
}

<h2>Detalles</h2>

<div>
    <h4>Usuarios</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Nombre)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Nombre)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.RazonSocial)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.RazonSocial)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Rut)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Rut)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Direccion)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Direccion)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Telefono)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Telefono)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Contraseña)
        </dt>

        <dd id="password">
            @Html.DisplayFor(model => model.Contraseña, new { htmlAttributes = new { @type="password" } }) 
        </dd>

    </dl>
</div>
<style>
    #img{
        margin-top:-100px;
        margin-bottom:-20px;
       
        display:flex;
        align-items:center;
        
        justify-content:center;
    }

</style>
<div class="container">
    <div class="row">
        <div class="col-lg-offset-7 col-lg-2" style="margin-top:-160px;">
            <h3 >Imagen actual</h3>
        </div>
        
        <div id="img" class="col-lg-offset-6 col-lg-4" style="background-color:cornsilk; border-radius:5px; padding:5px">
            @{ if (ViewBag.img == "http://www.aesoftmarket.com/uploads/fe-logo-8076354209.png")
                {
                    <img src="http://www.aesoftmarket.com/uploads/fe-logo-8076354209.png" style="width:30%;" />

                }
                else
                {
                    <img src="~/Context/@ViewBag.img" style="width:30%;" />
                }
            }

        </div>
        <div class="col-lg-offset-4">
            @using (Html.BeginForm("SubirImagen", "Usuarios", FormMethod.Post, new { @enctype = "multipart/form-data" }))
            {
                @Html.AntiForgeryToken()

                <div class="form-horizontal">
                    <center><br />
                        <h3 id="titulo_imagen">Subir imagen</h3>
                        <div class="text-danger">
                            @ViewBag.error
                        </div>
                        <hr />
                        <div class="form-group">
                            <input type="file" name="file" />
                        </div>

                        <div class="form-group">

                            <div class="boton">
                                <input type="submit" value="Cambiar" class="btn btn-default btn block" style="background-color:#000; color:white" />
                            </div>
                        </div>
                    </center>
                </div>
            }
        </div>
    </div>
            
</div>
<p>
    @Html.ActionLink("Editar", "Edit", new { id = Model.Id }) |
    @Html.ActionLink("Volver", "Index")
</p>
<script>
    var pass = $("#password");
    var i = pass.text();
    var longitud = i.length;
    if (pass.text()) {

        console.log(longitud - 23);
        var ocultar = ["*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*", "*"];
       
        var contra = "";
        for (var j = 0; j < longitud-23; j++) {

            contra = contra + ocultar[j];
            
           
        }
        pass.text(contra);
    }
</script>